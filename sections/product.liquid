{{ 'css--product.css' | asset_url | stylesheet_tag }}

{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<div class="container-product">
  {% comment %} BEGIN GALLERY {% endcomment %}
  <div class="gallery-product">
    <div class="gallery-product__main">
      <img src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}">
    </div>
    <div class="gallery-product__images">
      <div class="swiper carousel-PDP">
        <div class="swiper-wrapper">
          {% for image in product.images %}
          <a href="{{ image.src | img_url: 'large' }}" class="swiper-slide">
            <img src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}">
          </a>
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
  </div>
  {% comment %} END GALLERY {% endcomment %}
  <div class="info-product">
    <h1 class="info-product__title">
      {{product.title}}
    </h1>

    <h5 class="info-product__price">
      {{product.price | money_without_trailing_zeros}}
      <span>Valor con IVA</span>
    </h5>

    <p class="info-product__description">
      {{product.description}}
    </p>

    {% comment %} SIZE {% endcomment %}
    <div class="info-product__size">
      <p>Selecciona tu talla:</p>
      <div>
        {% for size in product.variants %}
          <span>{{size.title}}</span>
        {% endfor %}
      </div>
    </div>


    {% comment %} BEGIN ADD TO CART {% endcomment %}
    {% comment %} END ADD TO CART {% endcomment %}

    {% comment %} BEGIN ATTRIBUTE {% endcomment %}
    <div class="info-product__attribute">
      <p class="info-product__attribute__add-list">{% render 'heart-icon' %}Agrega a tu lista de deseos</p>
      <p class="info-product__attribute__group">
        <span>
          SKU: 
        </span>
        5055561
      </p>
    </div>
    {% comment %} END ATTRIBUTE {% endcomment %}

  </div>
  {% comment %} INFO {% endcomment %}

</div>
{% comment %} <h1>{{ product.title }}</h1>
<form action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
  <select name="id" id="productSelect">
    {% for variant in product.variants %}
    {% if variant.available %}
    <option value="{{ variant.id }}">
      {{ variant.title }} - {{ variant.price | money_with_currency }}
    </option>
    {% else %}
    <option disabled="disabled">
      {{ variant.title }} - sold out
    </option>
    {% endif %}
    {% endfor %}
  </select>
  {{ current_variant.price | money }}
  <label for="Quantity">quantity</label>
  <input type="number" id="Quantity" name="quantity" value="1" min="1">
  <button type="submit" name="add" id="AddToCart">Add to cart</button>
</form>
<div>{{ product.description }}</div> {% endcomment %}

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const swiper = new Swiper(".carousel-PDP", {
    slidesPerView: 3,
    spaceBetween: 4,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
  });
</script>